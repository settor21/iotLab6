
<!DOCTYPE html>
<HTML>
<head>
  <link rel="stylesheet" href="style.css">
  <title>SENSOR</title>
  <style>
  .btn {display:block; width:200px; margin:auto; padding:10px}
  .btn {font-size:20px; color:black; text-decoration:none}
    .on {background-color:red}
    .off {background-color:blue}
  
    </style></head>
</head>
<body>
  <h1 style="color: blue;">Sensor Data</h1>
  <h1 text-align= "center"> </h1>
  <p style="font-size: 120%;">This page allows the user to view data from the sensor. Click on the preferred button to display the data.</p>
  <body>



<button class="button-2" role="button" name="ESPLight1" onclick="updateByAJAX_ESP1Light()">ESP1: Temperature</button>
<div id="Light1"></div>

<button class="button-1" role="button" name="ESPdist1" onclick="updateByAJAX_ESP1distance()">ESP1: Humidity</button>
<div id="Distance1"></div>

<br>
<br>

<button class="button-3" role="button" name="ESPLight2" onclick="updateByAJAX_ESP2Light()">ESP2: Temperature</button>
<div id="Light2"></div>

<button class="button-1" role="button" name="ESPdist2" onclick="updateByAJAX_ESP2distance()">ESP2: Humidity</button>
<div id="Distance2"></div>

    <br>
  <br>











<script type="text/javascript">

function updateByAJAX_ESP1Light(){
      const xhttp=new XMLHttpRequest();
      xhttp.onload=function(){
        document.getElementById("Light1").innerText=this.responseText;
      }
      
      xhttp.open("GET", "http://localhost/iotinhtdocs/midsemproject/iotlab6/ESP1_GetDistance.php?");
      xhttp.send();
    }

function updateByAJAX_ESP1distance(){
      const xhttp=new XMLHttpRequest();
      xhttp.onload=function(){
        document.getElementById("Distance1").innerText=this.responseText;
      }
      
      xhttp.open("GET", "http://localhost/iotinhtdocs/midsemproject/iotlab6/ESP1_GetLight.php?");
      xhttp.send();
}

function updateByAJAX_ESP2Light(){
    const xhttp=new XMLHttpRequest();
    xhttp.onload=function(){
        document.getElementById("Light2").innerText=this.responseText;
      }
      
      xhttp.open("GET", "http://localhost/iotinhtdocs/midsemproject/iotlab6/ESP2_GetDistance.php?");
      xhttp.send();
    }



function updateByAJAX_ESP2distance(){
      const xhttp=new XMLHttpRequest();
      xhttp.onload=function(){
        document.getElementById("Distance2").innerText=this.responseText;
      }
      
      xhttp.open("GET", "http://localhost/iotinhtdocs/midsemproject/iotlab6/ESP2_GetLight.php?");
      xhttp.send();
}




	function sendData(butn)
{
  var URL, variab, text;
  if(butn == 'Red LED')
  {
    URL = 'LEDRurl';
    variab = 'LEDR';
  }

  if(butn == 'manual')
{
 URL = 'manualurl';
  variab = 'manualState';
    
 }


  if(butn == 'Red LED')
{ // change button class and text 
  var state = document.getElementById(butn).className;
  state = (state == 'btn on' ? 'btn off' : 'btn on');
  text = (state == 'btn on' ? butn + 'OFF' : butn + ' ON');
    document.getElementById(butn).className = state;
    document.getElementById(butn).innerHTML = 'Press to turn ' + text;
  }
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function(butn)
  {
    if (this.readyState == 4 && this.status == 200)

//   xhr.onload = function(){
    document.getElementById(variab).innerHTML = this.responseText;
  };
  xhr.open('GET', URL, true);
  xhr.send();
}

</script>




</body>

</HTML>
